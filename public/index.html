<!DOCTYPE html>
<!--Nodevision/public/index.html-->
<!--This is the main web page of the Nodevision user interface.-->

<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nodevision</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="MainStyles.css">
  <link rel="stylesheet" href="LayoutStyles.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="GraphStyles.css">
  <link rel="stylesheet" href="ToolbarStyles.css">
  <link rel="stylesheet" href="NodeViewContainerStyles.css">


  <script src="/lib/monaco/vs/loader.js"></script>

<script src="/vendor/cytoscape/cytoscape.min.js"></script>



<!-- Test Cytoscape -->
<script>
  window.addEventListener('DOMContentLoaded', () => {
    if (!window.cytoscape) {
      console.error("Cytoscape did not load!");
      return;
    }
    console.log("Cytoscape loaded successfully:", window.cytoscape);

    // Create a small test container
    const testContainer = document.createElement('div');
    testContainer.id = 'cy-test';
    testContainer.style.width = '300px';
    testContainer.style.height = '300px';
    testContainer.style.border = '1px solid #ccc';
    testContainer.style.margin = '8px';
    document.body.appendChild(testContainer);

    // Initialize a test graph
    const cy = window.cytoscape({
      container: testContainer,
      elements: [
        { data: { id: 'a', name: 'Node A' } },
        { data: { id: 'b', name: 'Node B' } },
        { data: { source: 'a', target: 'b' } }
      ],
      style: [
        { selector: 'node', style: { 'background-color': '#1976d2', 'label': 'data(name)', 'color': '#fff', 'text-valign': 'center' } },
        { selector: 'edge', style: { 'width': 2, 'line-color': '#888', 'target-arrow-shape': 'triangle', 'target-arrow-color': '#888' } }
      ],
      layout: { name: 'grid', rows: 1 }
    });

    console.log("Test Cytoscape graph initialized:", cy);
  });
</script>
</head>

<body style="height:100%; margin:0; display:flex; flex-direction:column;">

  <!-- Top toolbar placeholder -->
  <div class="toolbar" id="global-toolbar"></div>
  <div id="sub-toolbar"></div>

  <!-- Workspace for panels -->
  <div id="workspace"></div>

  <!-- Single entrypoint -->
  <script type="module" src="./main.mjs"></script>
</body>
</html>
